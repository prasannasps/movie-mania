"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[433],{3433:(Q,m,s)=>{s.r(m),s.d(m,{SortedMoviesModule:()=>D});var l=s(8583),c=s(292),n=s(4785),t=s(7716),d=s(900);const p=function(e){return{bold:e}};function u(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){const U=t.CHM(o).$implicit;return t.oxw().filterHandler(U)}),t._uU(1),t.qZA()}if(2&e){const o=i.$implicit;t.Q6J("ngClass",t.VKq(2,p,!0===o.selected)),t.xp6(1),t.hij(" Sort By ",o.value," ")}}function f(e,i){1&e&&(t.TgZ(0,"th",16),t._uU(1," Name "),t.qZA())}function v(e,i){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.name," ")}}function h(e,i){1&e&&(t.TgZ(0,"th",16),t._uU(1," Director "),t.qZA())}function _(e,i){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.director," ")}}function g(e,i){1&e&&(t.TgZ(0,"th",16),t._uU(1," IMDB Score "),t.qZA())}function C(e,i){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.imdb_score," ")}}function S(e,i){1&e&&(t.TgZ(0,"th",16),t._uU(1," Genre "),t.qZA())}function M(e,i){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o.genre," ")}}function Z(e,i){1&e&&(t.TgZ(0,"th",16),t._uU(1," Popularity "),t.qZA())}function T(e,i){if(1&e&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.hij(" ",o._99popularity," ")}}function x(e,i){1&e&&t._UZ(0,"tr",18)}function y(e,i){1&e&&t._UZ(0,"tr",19)}const A=function(){return[7]};let w=(()=>{class e{constructor(o){this.appService=o,this.displayedColumns=["name","director","imdb_score","_99popularity","genre"],this.dataSource=new n.by([]),this.sortableFilters=[{key:"_99popularity",value:"Popularity",selected:!1},{key:"director",value:"Director",selected:!1},{key:"name",value:"Movie Name",selected:!1}]}ngOnInit(){this.search()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}search(){this.appService.getMovies().subscribe(o=>{o&&o.List&&o.List.length>0&&(this.movies=o.List,this.dataSource=new n.by(this.movies),this.ngAfterViewInit())})}filterHandler(o){this.sortableFilters.forEach(r=>r.selected=!1),o.selected=!0,this.sortMovies(o.key)}sortMovies(o){this.movies.sort("_99popularity"===o?(r,a)=>r[o]-a[o]:(r,a)=>r[o].localeCompare(a[o])),this.dataSource=new n.by(this.movies),this.dataSource.paginator=this.paginator,this.ngAfterViewInit()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-sorted-movies"]],viewQuery:function(o,r){if(1&o&&t.Gf(c.NW,5),2&o){let a;t.iGM(a=t.CRH())&&(r.paginator=a.first)}},decls:24,vars:6,consts:[[1,"app-title"],[1,"row","flx-end-end","flx-gap-35"],["class","pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","director"],["matColumnDef","imdb_score"],["matColumnDef","genre"],["matColumnDef","_99popularity"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"pointer",3,"ngClass","click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,r){1&o&&(t.TgZ(0,"div",0),t._uU(1,"Sorted Movies"),t.qZA(),t.TgZ(2,"div",1),t.YNc(3,u,2,4,"div",2),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"table",4),t.ynx(6,5),t.YNc(7,f,2,0,"th",6),t.YNc(8,v,2,1,"td",7),t.BQk(),t.ynx(9,8),t.YNc(10,h,2,0,"th",6),t.YNc(11,_,2,1,"td",7),t.BQk(),t.ynx(12,9),t.YNc(13,g,2,0,"th",6),t.YNc(14,C,2,1,"td",7),t.BQk(),t.ynx(15,10),t.YNc(16,S,2,0,"th",6),t.YNc(17,M,2,1,"td",7),t.BQk(),t.ynx(18,11),t.YNc(19,Z,2,0,"th",6),t.YNc(20,T,2,1,"td",7),t.BQk(),t.YNc(21,x,1,0,"tr",12),t.YNc(22,y,1,0,"tr",13),t.qZA(),t._UZ(23,"mat-paginator",14),t.qZA()),2&o&&(t.xp6(3),t.Q6J("ngForOf",r.sortableFilters),t.xp6(2),t.Q6J("dataSource",r.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,A)))},directives:[l.sg,n.BZ,n.w1,n.fO,n.Dz,n.as,n.nj,c.NW,l.mk,n.ge,n.ev,n.XQ,n.Gk],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),e})();var N=s(4655);let D=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,c.TU,n.p0,N.Bz.forChild([{path:"",pathMatch:"full",component:w}])]]}),e})()}}]);